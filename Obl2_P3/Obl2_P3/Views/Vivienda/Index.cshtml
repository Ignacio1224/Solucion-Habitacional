@model IEnumerable<Obl2_P3.Models.VMVivienda>

@{
    ViewBag.Title = "Viviendas";
    ViewBag.ActiveMenuItem = "vivienda";
}

<h2>Viviendas</h2>

<div class="@ViewBag.message[0]" style="@ViewBag.message[1]">
    @ViewBag.message[2]
</div>

<form action="/Vivienda/Import" method="post" style="margin-bottom: 2em;">
    <button type="submit">Importar</button>
</form>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.estado)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.calle)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.nro_puerta)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Barrio)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.anio_construccion)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.precio_final)
        </th>
        <th></th>
    </tr>
    @if (Model.Count() != 0) {
    
        foreach (var item in Model) {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.estado)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.calle)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.nro_puerta)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Barrio)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.anio_construccion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.precio_final)
                </td>
                <td>
                    @Html.ActionLink("Detalles", "Details", new { id=item.ViviendaId })
                </td>
            </tr>
        }
    } else
    {
        <tr>
            <td colspan="6">No hay datos disponibles.</td>
        </tr>
    }

</table>
